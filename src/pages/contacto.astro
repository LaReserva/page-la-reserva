---
// src/pages/contacto.astro
import PageLayout from '@/layouts/PageLayout.astro';
import { ContactForm } from '@/components/forms/ContactForm'; 
import Card from '@/components/ui/Card.astro';
import { getGlobalSettings } from '@/lib/data'; 
import { Phone, Mail, MapPin, Clock, Zap } from 'lucide-react';

const settings = await getGlobalSettings();
---

<PageLayout 
  title="Contacto" 
  description="Contáctanos para tu próximo evento. WhatsApp, email y ubicación en Lima."
>
  <section class="section">
    <div class="container-custom">
      <div class="text-center mb-12">
        <h1 class="text-4xl md:text-5xl font-display font-bold text-secondary-900 mb-4">
          Contáctanos
        </h1>
        <p class="text-lg text-secondary-500 max-w-2xl mx-auto">
          Estamos listos para hacer de tu evento una experiencia inolvidable.
        </p>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 max-w-6xl mx-auto">
        
        {/* Columna Izquierda: Formulario */}
        <Card class="border-t-4 border-t-primary-500">
          <h2 class="text-2xl font-display font-bold mb-6 text-secondary-900">
            Envíanos un correo
          </h2>
          <ContactForm client:load />
        </Card>

        {/* Columna Derecha: Información */}
        <div class="space-y-6">
          
          {/* Datos de Contacto */}
          <Card>
            <h3 class="text-xl font-semibold mb-6 text-secondary-900">Información de Contacto</h3>
            <ul class="space-y-6">
              
              <li class="flex items-start gap-4">
                <div class="p-3 bg-primary-50 rounded-full text-primary-600">
                  <Phone className="w-6 h-6" />
                </div>
                <div>
                  <p class="font-bold text-secondary-900 text-sm uppercase tracking-wide mb-1">Teléfono / WhatsApp</p>
                  <a 
                    href={`tel:${settings.contact_phone.replace(/\D/g, '')}`} 
                    class="text-lg text-secondary-600 hover:text-primary-600 transition-colors"
                  >
                    {settings.contact_phone}
                  </a>
                </div>
              </li>

              <li class="flex items-start gap-4">
                <div class="p-3 bg-primary-50 rounded-full text-primary-600">
                  <Mail className="w-6 h-6" />
                </div>
                <div>
                  <p class="font-bold text-secondary-900 text-sm uppercase tracking-wide mb-1">Email</p>
                  <a href={`mailto:${settings.contact_email}`} class="text-lg text-secondary-600 hover:text-primary-600 transition-colors">
                    {settings.contact_email}
                  </a>
                </div>
              </li>

              <li class="flex items-start gap-4">
                <div class="p-3 bg-primary-50 rounded-full text-primary-600">
                  <MapPin className="w-6 h-6" />
                </div>
                <div>
                  <p class="font-bold text-secondary-900 text-sm uppercase tracking-wide mb-1">Ubicación</p>
                  <p class="text-lg text-secondary-600">{settings.address}</p>
                </div>
              </li>

            </ul>
          </Card>

          {/* ✅ Horarios DINÁMICOS */}
          <Card>
            <div class="flex items-center gap-3 mb-4">
              <Clock className="w-6 h-6 text-primary-500" />
              <h3 class="text-xl font-semibold text-secondary-900">Horarios de Atención</h3>
            </div>
            <ul class="space-y-3 text-secondary-600 ml-9">
              <li class="flex justify-between border-b border-secondary-100 pb-2">
                <span>Lunes - Viernes</span>
                <span class="font-medium">{settings.hours_weekdays}</span>
              </li>
              <li class="flex justify-between border-b border-secondary-100 pb-2">
                <span>Sábado</span>
                <span class="font-medium">{settings.hours_saturday}</span>
              </li>
              <li class="flex justify-between text-secondary-400">
                <span>Domingo</span>
                <span>{settings.hours_sunday}</span>
              </li>
            </ul>
          </Card>

          {/* Tiempo de Respuesta Dinámico */}
          <Card class="bg-primary-50 border-2 border-primary-500/30">
            <div class="flex items-center justify-center gap-2 text-primary-800 font-semibold">
              <Zap className="w-5 h-5 fill-primary-500 text-primary-600" />
              <p>{settings.response_time}</p>
            </div>
          </Card>

        </div>
      </div>
    </div>
  </section>
</PageLayout>