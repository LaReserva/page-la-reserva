---
// src/layouts/PageLayout.astro
import BaseLayout from './BaseLayout.astro';
import Header from '@/components/layout/Header.astro';
import Footer from '@/components/layout/Footer.astro';

interface Props {
  title: string;
  description?: string;
  image?: string;
  noindex?: boolean;
}

const { 
  title, 
  description, 
  image, 
  noindex = false 
} = Astro.props;
---

<BaseLayout title={title} description={description} image={image} noindex={noindex}>
  
  {/* ✅ 1. Header persistente: 
      El menú se queda fijo y no parpadea al navegar.
  */}
  <div transition:persist>
    <Header />
  </div>
  
  {/* ✅ 2. Animación de contenido:
      El contenido viejo se desvanece suavemente mientras entra el nuevo.
  */}
  <main class="min-h-screen" transition:animate="fade">
    <slot />
  </main>
  
  {/* El Footer lo dejamos que se recargue (opcional) o también podrías ponerle persist */}
  <Footer />

</BaseLayout>