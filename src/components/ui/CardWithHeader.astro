---
// src/components/ui/CardWithHeader.astro
import type { HTMLAttributes } from 'astro/types';
import { cn } from '@/utils/utils';

// Extendemos de HTMLAttributes para soportar todas las propiedades de un div
interface Props extends HTMLAttributes<'div'> {
  title?: string;
  subtitle?: string;
}

const { 
  title, 
  subtitle, 
  class: className, 
  ...rest // ✅ Capturamos el resto de propiedades
} = Astro.props;
---

<div 
  class={cn(
    'bg-white rounded-lg shadow-md overflow-hidden border border-secondary-200 transition-shadow duration-300 hover:shadow-lg',
    className
  )} 
  {...rest}
>
  {(title || subtitle) && (
    <div class="px-6 py-4 border-b border-secondary-200 bg-secondary-50/50"> {/* Fondo sutil para jerarquía */}
      {title && (
        <h3 class="text-xl font-display font-semibold text-secondary-600">
          {title}
        </h3>
      )}
      {subtitle && (
        <p class="text-sm text-secondary-400 mt-1">
          {subtitle}
        </p>
      )}
    </div>
  )}
  
  <div class="p-6">
    <slot />
  </div>
  
  {/* El slot footer se renderiza tal cual, útil para botones de acción */}
  <slot name="footer" />
</div>